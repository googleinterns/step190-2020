<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>gVote</title>

    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <!--Bootstrap Libraries-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>

	  <script type='text/javascript' src='config.js'></script>
	  <link rel="stylesheet" href="style.css">
    <script src="auto-complete.js"></script>
    <script src="script.js"></script>
    <script src="election-info.js"></script>

    </head>

    <body onload="onElectionInfoLoad();">
      <div id="page-wrapper">
        <div id="header-bar">
          <a href="index.html" id="home-link">
            <p id="header-text">gVote</p>
          </a>
        </div>

        <div class="container" id="content">
          <div class="row" id="election-info-page-title">
            <p style="display: inline-block; text-align: left;">
              <b>To show you polling locations, candidates, and ballot items from the&nbsp;</b> 
            </p>
            <div id="chosen-election" style="display: inline-block; text-align: left;"> </div>
            <p style="display: inline-block; text-align: left;">
              <b>, we'll need your registered voter address: </b>
            </p>
          </div>

          <div class="row input-wrapper">
            <div class="panel panel-primary">
              <div class="container panel-body">
                <div class="row location-field-wrapper">
                  <div class="col-lg-8 col-lg-offset-2" id="locationField">
                      <input id="autocomplete" placeholder="Enter your address" onFocus="geolocate()" type="text"/>
                  </div>
                </div>
                <div class="row address-row-wrapper">
                  <div class="col-md-2 col-md-offset-1">
                    <input class="form-control" id="street_number" disabled="true">
                    <label class="control-label required">Street Number</label>
                  </div>
                  <div class="col-md-5">
                    <input class="form-control" id="route" disabled="true">
                    <label class="control-label required">Street Name</label>
                  </div>
                  <div class="col-md-3">
                    <input class="form-control field" id="locality" disabled="true">
                    <label class="control-label required">City</label>
                  </div>
                </div>

                <div class="row address-row-wrapper">
                  <div class="col-md-2 col-md-offset-2"> 
                    <input class="form-control" id="administrative_area_level_1" disabled="true">
                    <label class="control-label required">State</label>
                  </div>
                  <div class="col-md-4">
                    <input class="form-control" id="country" disabled="true">
                    <label class="control-label required">Country</label>
                  </div>
                  <div class="col-md-2">
                    <input class="form-control" id="postal_code" disabled="true">
                    <label class="control-label required">Zip Code</label>
                  </div>
                </div>

                <div class="row address-row-wrapper" id="address-button-container">
                  <a href="#" onclick="logAddressInput();return false;" id="address-input-js">
                    <div class="col-lg-2 col-lg-offset-5 col-md-2 col-md-offset-5 col-sm-2 col-sm-offset-5" 
                          id="submit-address-button">
                      Submit
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="row info-cards-wrapper">

          <div class="container-fluid" id="contests-referendums-content"></div>
          <script id="contests-referendums-template" type="text/x-handlebars-template">
            <h3 id="info-cards-title">What's on the Ballot?</h3>
            <div class="col-md-4 col-lg-offset-2 contests-wrapper">
              {{#each contests}}
              <div class="info-card">
                <div class="info-card-title">
                  {{this.name}}
                </div>
                <div class="candidates-wrapper">
                  {{#each this.candidates}}
                  <div class="candidate">
                    <div class="candidate-name">{{this.name}}</div>
                  </div>
                  {{/each}}
                </div>
              </div>
              {{else}}
              <p><em>No Contests</em></p>
              {{/each}}
            </div>
            <div class="col-md-4 referendums-wrapper">
              {{#each referendums}}
              <div class="info-card">
                <div class="info-card-title">
                  {{this.name}}
                </div>
                <div class="referendum-description">
                  {{this.description}}
                </div>
              </div>
              {{else}}
              <p><em>No referendums</em></p>
              {{/each}}
            </div>
          </script>
          </div>
        </div>
			</div>
		</body>
</html>
